<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Тест Coffee Boom</title>
<style>
  body { font-family: Arial, sans-serif; background: #f8f4f0; padding: 20px; }
  h2 { color: #6b4226; }
  .hidden { display: none; }
  .question { margin-bottom: 15px; padding: 10px; background: #fff; border-radius: 10px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
  button { padding: 10px 15px; background: #6b4226; color: #fff; border: none; border-radius: 5px; cursor: pointer; }
  button:hover { background: #8c5a35; }
</style>
<script type="text/javascript"
        src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js">
</script>
<script>
(function(){
  emailjs.init("bWlse3hihf2g0PqRK"); /* Твой public key */
})();
</script>
</head>
<body>

<div id="step1">
  <h2>Введите ваши данные</h2>
  <label>Фамилия и Имя:</label><br>
  <input type="text" id="fio" required><br><br>
  <label>Локация:</label><br>
  <input type="text" id="location" required><br><br>
  <button onclick="startTest()">Начать тест</button>
</div>

<div id="step2" class="hidden">
  <h2>Тест Coffee Boom</h2>
  <form id="quizForm">

    <!-- Все 30 вопросов (новый тест) -->
    <div class="question"><p>1. Сколько секунд максимум может пройти от входа гостя до подхода официанта?</p><label><input type="radio" name="q1" value="a"> 10 секунд</label><br><label><input type="radio" name="q1" value="b"> 15 секунд</label><br><label><input type="radio" name="q1" value="c"> 30 секунд</label><br><label><input type="radio" name="q1" value="d"> 20 секунд</label></div>

    <div class="question"><p>2. Что делать, если зал пустой и зашёл гость?</p><label><input type="radio" name="q2" value="a"> Подойти сразу, проводить до стола, вручить меню, рассказать спецпредложения</label><br><label><input type="radio" name="q2" value="b"> Подойти через минуту, дать меню и уйти</label><br><label><input type="radio" name="q2" value="c"> Помахать рукой и ждать у кассы</label><br><label><input type="radio" name="q2" value="d"> Дать меню и предложить QR без слов</label></div>

    <div class="question"><p>3. Что сказать при подаче меню согласно стандарту?</p><label><input type="radio" name="q3" value="a"> «К счёту добавляется 10% за обслуживание. Можете выбрать, что будете заказывать»</label><br><label><input type="radio" name="q3" value="b"> «У нас есть много блюд, выбирайте сами»</label><br><label><input type="radio" name="q3" value="c"> «Вот меню, я подойду позже»</label><br><label><input type="radio" name="q3" value="d"> «Можете заказывать, у нас вкусно»</label></div>

    <div class="question"><p>4. Когда нужно предупреждать про 10% за обслуживание?</p><label><input type="radio" name="q4" value="a"> При подаче счёта</label><br><label><input type="radio" name="q4" value="b"> При подаче меню или QR</label><br><label><input type="radio" name="q4" value="c"> Когда гость уже сделал заказ</label><br><label><input type="radio" name="q4" value="d"> После оплаты</label></div>

    <div class="question"><p>5. Как правильно отработать возражение по 10%?</p><label><input type="radio" name="q5" value="a"> Сказать «Так у всех»</label><br><label><input type="radio" name="q5" value="b"> Показать материал из уголка потребителя и при необходимости пригласить администратора</label><br><label><input type="radio" name="q5" value="c"> Предложить убрать 10% без объяснений</label><br><label><input type="radio" name="q5" value="d"> Игнорировать комментарий</label></div>

    <div class="question"><p>6. Что означает правило «полных рук»?</p><label><input type="radio" name="q6" value="a"> Всегда носить на руках приборы</label><br><label><input type="radio" name="q6" value="b"> При каждом перемещении брать максимум, что можно безопасно унести</label><br><label><input type="radio" name="q6" value="c"> Всегда носить полный поднос</label><br><label><input type="radio" name="q6" value="d"> Никогда не выходить в зал с пустыми руками, даже если нечего нести</label></div>

    <div class="question"><p>7. Как держать бокал по стандарту Coffee Boom?</p><label><input type="radio" name="q7" value="a"> За край</label><br><label><input type="radio" name="q7" value="b"> За чашу</label><br><label><input type="radio" name="q7" value="c"> За ножку или основание</label><br><label><input type="radio" name="q7" value="d"> За любую часть, главное — аккуратно</label></div>

    <div class="question"><p>8. Почему важно держать бокал только за ножку или основание?</p><label><input type="radio" name="q8" value="a"> Чтобы удобнее нести</label><br><label><input type="radio" name="q8" value="b"> Чтобы он не упал</label><br><label><input type="radio" name="q8" value="c"> Чтобы сохранить гигиену, эстетику и температуру напитка</label><br><label><input type="radio" name="q8" value="d"> Чтобы казаться профессионалом</label></div>

    <div class="question"><p>9. Когда предлагать напитки впервые?</p><label><input type="radio" name="q9" value="a"> Только после заказа еды</label><br><label><input type="radio" name="q9" value="b"> Сразу после рассадки</label><br><label><input type="radio" name="q9" value="c"> После подачи первого блюда</label><br><label><input type="radio" name="q9" value="d"> Перед счётом</label></div>

    <div class="question"><p>10. Когда предлагать повтор напитка?</p><label><input type="radio" name="q10" value="a"> Когда в чашке/стакане ~1/3</label><br><label><input type="radio" name="q10" value="b"> Когда гость встал из-за стола</label><br><label><input type="radio" name="q10" value="c"> Когда напиток остыл</label><br><label><input type="radio" name="q10" value="d"> Когда осталась половина</label></div>

    <div class="question"><p>11. Что нельзя говорить при предложении повторного напитка?</p><label><input type="radio" name="q11" value="a"> «Хотите ещё лимонад?»</label><br><label><input type="radio" name="q11" value="b"> «Будете ещё что-то?» (без конкретики)</label><br><label><input type="radio" name="q11" value="c"> «Вижу, кофе почти закончился — повторить любимый латте?»</label><br><label><input type="radio" name="q11" value="d"> «К десерту рекомендую классический чай с ягодами»</label></div>

    <div class="question"><p>12. Что нужно сделать за 10–15 минут до конца трапезы?</p><label><input type="radio" name="q12" value="a"> Принести счёт</label><br><label><input type="radio" name="q12" value="b"> Предложить десерт</label><br><label><input type="radio" name="q12" value="c"> Предложить повтор напитка</label><br><label><input type="radio" name="q12" value="d"> Убрать посуду</label></div>

    <div class="question"><p>13. Как правильно попросить отзыв в 2ГИС?</p><label><input type="radio" name="q13" value="a"> «Напишите отзыв, если хотите»</label><br><label><input type="radio" name="q13" value="b"> «Будем очень признательны за отзыв в 2ГИС — это помогает нам становиться лучше»</label><br><label><input type="radio" name="q13" value="c"> «Оставьте отзыв, это обязательно»</label><br><label><input type="radio" name="q13" value="d"> «Отзыв в 2ГИС даст вам скидку»</label></div>

    <div class="question"><p>14. Что делать, если гость жалуется?</p><label><input type="radio" name="q14" value="a"> Спорить</label><br><label><input type="radio" name="q14" value="b"> Извиниться, предложить решение, позвать администратора</label><br><label><input type="radio" name="q14" value="c"> Предложить скидку без выяснения причины</label><br><label><input type="radio" name="q14" value="d"> Игнорировать</label></div>

    <div class="question"><p>15. Как часто визуально контролировать столы во время визита?</p><label><input type="radio" name="q15" value="a"> Каждые 10–15 минут</label><br><label><input type="radio" name="q15" value="b"> Каждые 5–7 минут</label><br><label><input type="radio" name="q15" value="c"> Каждую минуту</label><br><label><input type="radio" name="q15" value="d"> Когда удобно</label></div>

    <div class="question"><p>16. Через сколько минут после подачи меню нужно повторно подойти?</p><label><input type="radio" name="q16" value="a"> 1–2 минуты</label><br><label><input type="radio" name="q16" value="b"> 3–5 минут</label><br><label><input type="radio" name="q16" value="c"> 7–10 минут</label><br><label><input type="radio" name="q16" value="d"> Когда гость позовёт</label></div>

    <div class="question"><p>17. Какой small talk допустим?</p><label><input type="radio" name="q17" value="a"> «Как вам наш новый лимонад?»</label><br><label><input type="radio" name="q17" value="b"> «Кем вы работаете?»</label><br><label><input type="radio" name="q17" value="c"> «Сколько зарабатываете?»</label><br><label><input type="radio" name="q17" value="d"> «Как относитесь к политике?»</label></div>

    <div class="question"><p>18. Что нельзя делать во время small talk?</p><label><input type="radio" name="q18" value="a"> Спрашивать про погоду</label><br><label><input type="radio" name="q18" value="b"> Затягивать разговор в час пик</label><br><label><input type="radio" name="q18" value="c"> Предлагать новинки меню</label><br><label><input type="radio" name="q18" value="d"> Интересоваться удобством посадки</label></div>

    <div class="question"><p>19. Как действовать в час пик при встрече гостя?</p><label><input type="radio" name="q19" value="a"> Подойти сразу, обозначить жестом «минуту», затем лично провести</label><br><label><input type="radio" name="q19" value="b"> Подождать, пока освободится стол</label><br><label><input type="radio" name="q19" value="c"> Не подходить, пока не закончите текущую задачу</label><br><label><input type="radio" name="q19" value="d"> Улыбнуться и уйти</label></div>

    <div class="question"><p>20. Как правильно ставить бокал на стол?</p><label><input type="radio" name="q20" value="a"> Аккуратно на салфетку или подставку</label><br><label><input type="radio" name="q20" value="b"> Резко на край стола</label><br><label><input type="radio" name="q20" value="c"> Прямо в руки гостю</label><br><label><input type="radio" name="q20" value="d"> На пустую поверхность без подставки</label></div>

    <div class="question"><p>21. Что не является типичной ошибкой при правиле полных рук?</p><label><input type="radio" name="q21" value="a"> Пальцы внутри бокала</label><br><label><input type="radio" name="q21" value="b"> Нести один предмет, когда можно больше</label><br><label><input type="radio" name="q21" value="c"> Перенос горячего без подставки</label><br><label><input type="radio" name="q21" value="d"> Перенос тяжёлого в центре подноса</label></div>

    <div class="question"><p>22. Когда можно не предупреждать о 10% за обслуживание?</p><label><input type="radio" name="q22" value="a"> Никогда</label><br><label><input type="radio" name="q22" value="b"> Если гость постоянный</label><br><label><input type="radio" name="q22" value="c"> Если заказ маленький</label><br><label><input type="radio" name="q22" value="d"> Если обслуживание быстрое</label></div>

    <div class="question"><p>23. Что делать, если гость уже встал и идёт к выходу, а вы хотели предложить повтор напитка?</p><label><input type="radio" name="q23" value="a"> Всё равно предложить</label><br><label><input type="radio" name="q23" value="b"> Не предлагать — момент упущен</label><br><label><input type="radio" name="q23" value="c"> Дать визитку</label><br><label><input type="radio" name="q23" value="d"> Попросить отзыв</label></div>

    <div class="question"><p>24. Что нужно сделать перед тем, как подойти к гостю с жалобой?</p><label><input type="radio" name="q24" value="a"> Не перебивать, уточнить детали, продумать ответ</label><br><label><input type="radio" name="q24" value="b"> Сразу предложить комплимент</label><br><label><input type="radio" name="q24" value="c"> Позвать администратора без уточнений</label><br><label><input type="radio" name="q24" value="d"> Спорить</label></div>

    <div class="question"><p>25. Что важно при проводке до стола?</p><label><input type="radio" name="q25" value="a"> Проводить уверенно, предложить удобное место</label><br><label><input type="radio" name="q25" value="b"> Идти быстро и молча</label><br><label><input type="radio" name="q25" value="c"> Идти с меню и QR</label><br><label><input type="radio" name="q25" value="d"> Не смотреть на гостя</label></div>

    <div class="question"><p>26. Что сказать, если нет свободных столов?</p><label><input type="radio" name="q26" value="a"> «Подождите где-нибудь»</label><br><label><input type="radio" name="q26" value="b"> «Предлагаю подождать у витрины, стол освободится примерно через 10 минут»</label><br><label><input type="radio" name="q26" value="c"> «Мы не можем вас обслужить»</label><br><label><input type="radio" name="q26" value="d"> «Вернитесь позже»</label></div>

    <div class="question"><p>27. Что делать с негативным отзывом?</p><label><input type="radio" name="q27" value="a"> Игнорировать</label><br><label><input type="radio" name="q27" value="b"> Передать администратору сразу</label><br><label><input type="radio" name="q27" value="c"> Записать и решить через день</label><br><label><input type="radio" name="q27" value="d"> Сказать «так бывает»</label></div>

    <div class="question"><p>28. Почему нельзя хватать бокал за чашу?</p><label><input type="radio" name="q28" value="a"> Это некрасиво</label><br><label><input type="radio" name="q28" value="b"> Нарушение гигиены и меняется температура напитка</label><br><label><input type="radio" name="q28" value="c"> Так неудобно</label><br><label><input type="radio" name="q28" value="d"> Бокал может упасть</label></div>

    <div class="question"><p>29. Что важно при выносе горячих блюд?</p><label><input type="radio" name="q29" value="a"> Держать их ближе к краю подноса</label><br><label><input type="radio" name="q29" value="b"> Ставить горячее дальше от края и выше</label><br><label><input type="radio" name="q29" value="c"> Нести в руках без подноса</label><br><label><input type="radio" name="q29" value="d"> Ставить всё в центр подноса</label></div>

    <div class="question"><p>30. Как завершить обслуживание правильно?</p><label><input type="radio" name="q30" value="a"> Принести счёт без предложения десерта</label><br><label><input type="radio" name="q30" value="b"> Предложить десерт, затем счёт, поблагодарить и попросить отзыв</label><br><label><input type="radio" name="q30" value="c"> Ждать, пока гость сам попросит счёт</label><br><label><input type="radio" name="q30" value="d"> Сразу убрать всё со стола</label></div>
  </form>
  <button onclick="submitQuiz()">Отправить</button>
</div>

<div id="step3" class="hidden">
  <h2>Результат</h2>
  <p id="score"></p>
  <p><strong>Ошибки:</strong></p>
  <ul id="wrongList"></ul>
</div>

<script>
  const correctAnswers = {
    q1:'b', q2:'a', q3:'a', q4:'b', q5:'b',
    q6:'b', q7:'c', q8:'c', q9:'b', q10:'a',
    q11:'b', q12:'b', q13:'b', q14:'b', q15:'b',
    q16:'b', q17:'a', q18:'b', q19:'a', q20:'a',
    q21:'d', q22:'a', q23:'b', q24:'a', q25:'a',
    q26:'b', q27:'b', q28:'b', q29:'b', q30:'b'
  };
  function startTest() {
    const fio = document.getElementById("fio").value.trim();
    const location = document.getElementById("location").value.trim();
    if (!fio || !location) {
      alert("Пожалуйста, заполните все поля");
      return;
    }
    document.getElementById("step1").classList.add("hidden");
    document.getElementById("step2").classList.remove("hidden");
  }

  function submitQuiz() {
    const fio = document.getElementById("fio").value;
    const location = document.getElementById("location").value;
    const form = document.getElementById("quizForm");
    let score = 0;
    let wrongAnswers = [];
    let chosenAnswers = [];
    let total = Object.keys(correctAnswers).length;

    for (let key in correctAnswers) {
      let answer = form.querySelector(`input[name="${key}"]:checked`);
      if (answer) {
        chosenAnswers.push(`${key}: ${answer.value}`);
        if (answer.value === correctAnswers[key]) {
          score++;
        } else {
          wrongAnswers.push(`Вопрос ${key}`);
        }
      } else {
        wrongAnswers.push(`Вопрос ${key} (не отвечен)`);
      }
    }

    let percent = Math.round((score / total) * 100);

    document.getElementById("score").textContent = `Ваш результат: ${percent}% правильных ответов`;
    const wrongListEl = document.getElementById("wrongList");
    wrongListEl.innerHTML = "";
    wrongAnswers.forEach(item => {
      let li = document.createElement("li");
      li.textContent = item;
      wrongListEl.appendChild(li);
    });

    document.getElementById("step2").classList.add("hidden");
    document.getElementById("step3").classList.remove("hidden");

    emailjs.send("service_b7essld", "template_bjg5viw", {
      to_email: "ersary.beksultan@gmail.com",
      fio: fio,
      location: location,
      score: percent,
      wrongAnswers: wrongAnswers.join(", "),
      chosenAnswers: chosenAnswers.join(", ")
    }).then(function(response) {
      console.log("Результаты отправлены", response.status, response.text);
    }, function(error) {
      console.error("Ошибка отправки", error);
    });
  }
</script>

</body>
</html>



